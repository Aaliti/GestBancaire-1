<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="header">


    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!--    <link rel="stylesheet" th:href="@{/css/formatting.css}" >-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>-->
    <title>Gestion Bancaire</title>
</head>

<div th:fragment="frag_transfert(duAu, tabledata)" class="form-row">
    <div class="">
        <p th:text="${duAu}"></p>
    </div>
    <div class="col">
        <label for="Select1">Select Compte</label>
        <!-- <select th:each="dataList: ${abledata}" class="form-control" id="exampleFormControlSelect1">
         <option th:text="*{__${dataList}__.id}"></option>
         </select>-->

        <select class="form-control Select1" id="Select1">
            <option value="0">Select Compte</option>
            <option th:each="dataList: ${tabledata}" th:text="*{dataList.compteId}"
                    th:value="*{dataList.compteId}"></option>
        </select>
    </div>
    <div class="col">
        <label for="nom">Nom Compte</label>
        <input disabled type="text" class="form-control" id="nom">
    </div>
    <div class="col">
        <label for="solde">Solde Compte</label>
        <input disabled type="text" class="form-control" id="solde">
    </div>
    <script>
        $('.Select1').change(function () {
            var idValue = $(this).children(":selected").attr('value');
            if (idValue != 0) {
                $.ajax({
                    url: "/formResult",
                    type: "POST",
                    data: {
                        id: idValue
                    },
                    success: function (result) {
                        $('#nom').val(result['nom']);
                        $('#solde').val(result['solde']);
                    }
                });
                /*$('#nom').val(idValue);
                $('#solde').val(idValue);*/
            } else {
                $('#nom').val("");
                $('#solde').val("");
            }

        });
    </script>
</div>

</html>